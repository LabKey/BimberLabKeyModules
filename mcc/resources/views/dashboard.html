<!-- Dont do this. Declare dependencies in dashboard.view.xml -->
<!--<script type="text/javascript" src=""/>-->

<script type="text/javascript">

    //This context is generated by LabKey when it parses the HTML
    var webpart = <%=webpartContext%>;

    // This is an automatically generated DIV where we should output content:
    document.getElementById(webpart.wrapperDivId).innerHTML = 'Hello!';
    
    // Pattern 1: have the meat of the JS code in a separate file (in this case /mcc/dashboard.js). Here we pass context on the HTML to render into:  
    MCC.Dashboard.loadDataAndRender(webpart.wrapperDivId);

    //Pattern 2: put everything in the HTML:
    LABKEY.Query.selectRows({
        schemaName: 'study',
        queryName: 'demographics',
        columns: 'Id,birth,death,gender,species,Id/age/AgeFriendly',
        success: function(results) {
            console.log(results.rows);

            document.getElementById(webpart.wrapperDivId).innerHTML = 'Total rows: ' + results.rows.length;
        },
        failure: function(response) {
            alert('It didnt work!');
        },
        scope: this
    });
    
</script>